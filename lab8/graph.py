import matplotlib.pyplot as plt

# Данные: (размер массива: такты1 такты2 такты3)
data = """256: 7 7 7
512: 9 9 9
1024: 10 10 10
1792: 10 10 10
2816: 10 10 10
4096: 10 10 10
5632: 10 10 10
7424: 10 10 10
9472: 10 3 3
11776: 3 3 3
14336: 3 3 3
17152: 3 3 3
20224: 3 3 3
23552: 3 3 3
27136: 7 7 8
30976: 8 8 8
35072: 3 3 3
39424: 3 3 3
44032: 3 3 3
48896: 3 3 3
54016: 3 3 4
59392: 3 3 4
65024: 3 3 4
70912: 3 3 5
77056: 3 3 5
83456: 3 3 5
90112: 3 3 6
97024: 3 3 6
104192: 3 3 6
111616: 3 3 6
119296: 3 3 6
127232: 3 3 7
135424: 3 3 7
143872: 3 3 7
152576: 3 3 7
161536: 3 3 7
170752: 3 3 7
180224: 3 3 7
189952: 3 3 7
199936: 3 3 7
210176: 3 3 7
220672: 3 3 7
231424: 3 3 7
242432: 3 3 8
253696: 3 3 8
265216: 3 3 8
276992: 3 3 8
289024: 3 3 8
301312: 3 3 8
313856: 3 3 8
326656: 3 3 8
339712: 3 3 8
353024: 3 3 8
366592: 3 3 8
380416: 3 3 8
394496: 3 3 8
408832: 3 3 8
423424: 3 3 8
438272: 3 3 8
453376: 3 3 9
468736: 3 3 9
484352: 3 3 9
500224: 3 3 9
516352: 3 3 9
532736: 3 3 9
549376: 3 3 9
566272: 3 3 9
583424: 3 3 9
600832: 3 3 10
618496: 3 3 10
636416: 3 3 10
654592: 3 3 10
673024: 3 3 10
691712: 3 3 10
710656: 3 3 10
729856: 3 3 11
749312: 3 3 11
769024: 3 3 11
788992: 3 3 11
809216: 3 3 11
829696: 3 3 11
850432: 3 3 12
871424: 3 3 12
892672: 3 3 12
914176: 3 3 12
935936: 3 3 12
957952: 3 3 11
980224: 3 3 12
1002752: 3 3 12
1025536: 3 3 12
1048576: 3 3 12
1071872: 3 3 13
1095424: 3 3 13
1119232: 3 3 13
1143296: 3 3 13
1167616: 3 3 14
1192192: 3 3 14
1217024: 3 3 14
1242112: 3 3 15
1267456: 3 3 14
1293056: 3 3 15
1318912: 3 3 15
1345024: 3 3 15
1371392: 3 3 16
1398016: 3 3 15
1424896: 3 3 16
1452032: 3 3 16
1479424: 3 3 16
1507072: 3 3 17
1534976: 3 3 17
1563136: 3 3 17
1591552: 3 3 18
1620224: 3 3 18
1649152: 3 3 18
1678336: 3 3 19
1707776: 3 3 19
1737472: 3 3 20
1767424: 3 3 20
1797632: 3 3 20
1828096: 3 3 20
1858816: 3 3 21
1889792: 3 3 21
1921024: 3 3 21
1952512: 3 3 22
1984256: 3 3 22
2016256: 3 3 22
2048512: 3 3 22
2081024: 3 3 23
2113792: 3 3 23
2146816: 3 3 23
2180096: 3 3 23
2213632: 3 3 24
2247424: 3 3 24
2281472: 3 3 24
2315776: 3 3 24
2350336: 3 3 25
2385152: 3 3 25
2420224: 3 3 25
2455552: 3 3 25
2491136: 3 3 26
2526976: 3 3 26
2563072: 3 3 26
2599424: 3 3 26
2636032: 3 3 26
2672896: 3 3 27
2710016: 3 3 27
2747392: 3 3 27
2785024: 3 3 27
2822912: 3 3 27
2861056: 3 3 27
2899456: 3 3 28
2938112: 3 3 28
2977024: 3 3 28
3016192: 3 3 28
3055616: 3 3 28
3095296: 3 3 28
3135232: 3 3 29
3175424: 3 3 29
3215872: 3 3 29
3256576: 3 3 29
3297536: 3 3 29
3338752: 3 3 29
3380224: 3 3 29
3421952: 3 3 30
3463936: 3 3 30
3506176: 3 3 30
3548672: 3 3 30
3591424: 3 3 30
3634432: 3 3 30
"""# Парсим данные
x = []  # размеры массивов
y1 = []  # первые измерения
y2 = []  # вторые измерения
y3 = []  # третьи измерения

for line in data.strip().splitlines():
    parts = line.split(':')
    size = int(parts[0].strip())
    cycles = list(map(int, parts[1].strip().split()))

    x.append(size)
    y1.append(cycles[0])
    y2.append(cycles[1])
    y3.append(cycles[2])

# Строим график
plt.figure(figsize=(12, 8))
plt.plot(x, y1, marker='o', linestyle='-', color='red', linewidth=2, markersize=4, label='direct')
plt.plot(x, y2, marker='s', linestyle='-', color='blue', linewidth=2, markersize=4, label='reverse')
plt.plot(x, y3, marker='^', linestyle='-', color='green', linewidth=2, markersize=4, label='random')

# Настройки
plt.title('Количество тактов на обработку элемента от размера массива', fontsize=14)
plt.xlabel('Размер массива (байты)', fontsize=12)
plt.ylabel('Тактов на обработку элемента', fontsize=12)
plt.grid(True, linestyle='--', linewidth=0.5)
plt.legend()
plt.xscale('log')

# Устанавливаем метки оси X в байтах до 16М
plt.xticks([256, 512, 1024, 2048, 4096, 8192, 16384, 32768, 65536, 131072, 262144, 524288, 1048576, 2097152, 4194304, 8388608, 16777216],
           ['256', '512', '1K', '2K', '4K', '8K', '16K', '32K', '64K', '128K', '256K', '512K', '1M', '2M', '4M', '8M', '16M'])

# Устанавливаем пределы оси X до 16М
plt.xlim(100, 20000000)

# Показываем график
plt.tight_layout()
plt.show()
