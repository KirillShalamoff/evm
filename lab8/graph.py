import matplotlib.pyplot as plt

# Данные: (размер массива: такты1 такты2 такты3)
data = """256: 6 4 4
512: 4 4 4
1024: 4 4 4
1792: 4 4 4
2816: 4 4 4
4096: 4 4 4
5632: 4 4 4
7424: 4 4 4
9472: 4 5 5
11776: 4 4 4
14336: 4 4 5
17152: 4 4 4
20224: 4 4 4
23552: 4 4 4
27136: 4 4 4
30976: 4 4 4
35072: 4 4 4
39424: 5 4 4
44032: 4 5 4
48896: 4 4 5
54016: 4 4 6
59392: 4 4 5
65024: 4 4 6
70912: 4 4 7
77056: 5 5 7
83456: 4 5 7
90112: 4 4 7
97024: 4 4 7
104192: 5 4 7
111616: 4 4 8
119296: 4 4 8
127232: 4 4 8
135424: 4 4 8
143872: 4 4 8
152576: 4 4 8
161536: 4 4 9
170752: 5 4 9
180224: 4 4 9
189952: 4 4 9
199936: 4 4 9
210176: 4 4 9
220672: 4 4 9
231424: 4 4 9
242432: 5 4 9
253696: 4 4 9
265216: 5 4 9
276992: 4 5 9
289024: 4 5 9
301312: 4 5 9
313856: 4 4 9
326656: 4 4 9
339712: 4 4 9
353024: 4 4 9
366592: 4 4 9
380416: 4 4 10
394496: 4 4 9
408832: 4 4 10
423424: 4 4 10
438272: 4 4 10
453376: 4 5 10
468736: 4 4 10
484352: 4 4 11
500224: 4 4 10
516352: 4 4 10
532736: 4 4 11
549376: 4 4 11
566272: 4 5 11
583424: 4 4 11
600832: 5 5 11
618496: 4 4 11
636416: 4 4 11
654592: 5 5 11
673024: 4 4 12
691712: 4 4 12
710656: 4 4 11
729856: 4 4 12
749312: 4 4 12
769024: 5 4 12
788992: 5 4 12
809216: 4 4 13
829696: 4 4 12
850432: 4 4 13
871424: 4 4 13
892672: 4 5 13
914176: 4 4 13
935936: 4 4 13
957952: 4 4 13
980224: 4 4 14
1002752: 4 4 14
1025536: 4 4 14
1048576: 4 4 14
1071872: 4 4 15
1095424: 4 4 15
1119232: 5 4 15
1143296: 4 4 16
1167616: 4 4 16
1192192: 4 4 16
1217024: 4 5 16
1242112: 4 4 17
1267456: 4 4 17
1293056: 4 5 17
1318912: 4 5 18
1345024: 5 4 18
1371392: 5 4 18
1398016: 4 4 18
1424896: 5 5 19
1452032: 4 4 19
1479424: 4 4 19
1507072: 4 4 19
1534976: 4 4 20
1563136: 4 4 20
1591552: 4 4 20
1620224: 4 5 20
1649152: 4 4 20
1678336: 4 4 20
1707776: 4 4 21
1737472: 5 4 21
1767424: 4 4 22
1797632: 4 5 21
1828096: 4 5 22
1858816: 4 4 22
1889792: 4 4 22
1921024: 4 4 23
1952512: 4 4 23
1984256: 4 4 23
2016256: 4 4 23
2048512: 4 4 24
2081024: 4 4 24
2113792: 4 4 24
2146816: 4 4 25
2180096: 4 4 24
2213632: 4 4 25
2247424: 5 4 25
2281472: 5 4 25
2315776: 4 4 25
2350336: 4 4 26
2385152: 5 4 26
2420224: 4 4 26
2455552: 4 4 26
2491136: 4 4 26
2526976: 4 4 27
2563072: 4 4 27
2599424: 4 4 27
2636032: 4 4 27
2672896: 4 4 27
2710016: 4 4 28
2747392: 4 4 28
2785024: 4 4 28
2822912: 4 4 28
2861056: 4 4 28
2899456: 5 4 28
2938112: 4 4 29
2977024: 4 4 29
3016192: 4 4 29
3055616: 5 4 29
3095296: 4 4 36
3135232: 4 4 30
3175424: 4 4 30
3215872: 4 4 30
3256576: 4 4 30
3297536: 4 4 30
3338752: 4 4 30
3380224: 4 4 31
3421952: 4 4 30
3463936: 4 4 31
3506176: 4 4 31
3548672: 4 4 31
3591424: 4 4 31
3634432: 4 4 31
3677696: 4 4 31
3721216: 4 4 31
3764992: 4 4 32
3809024: 4 4 32
3853312: 4 4 32
3897856: 4 4 32
3942656: 4 4 32
3987712: 4 4 32
4033024: 4 4 32
4078592: 4 4 32
4124416: 4 4 32
4170496: 4 4 34
4216832: 4 4 33
4263424: 4 4 33
4310272: 4 4 33
4357376: 4 4 34
4404736: 4 4 33
4452352: 4 4 33
4500224: 4 4 33
4548352: 5 4 33
4596736: 4 4 34
4645376: 4 4 34
4694272: 4 4 34
4743424: 4 4 34
4792832: 4 4 35
4842496: 4 4 34
4892416: 4 4 35
4942592: 4 4 35
4993024: 4 4 35
5043712: 4 4 35
5094656: 4 4 35
5145856: 4 4 36
5197312: 4 4 36
5249024: 4 4 38
5300992: 4 4 37
5353216: 4 4 37
5405696: 4 4 37
5458432: 4 4 38
5511424: 4 4 38
5564672: 4 4 38
5618176: 4 4 39
5671936: 4 4 37
5725952: 4 4 36
5780224: 4 4 37
5834752: 4 4 38
5889536: 4 4 39
5944576: 4 4 40
5999872: 4 4 40
6055424: 4 4 40
6111232: 4 4 40
6167296: 4 4 40
6223616: 4 4 40
6280192: 4 5 43
6337024: 4 4 40
6394112: 4 4 46
6451456: 4 4 40
6509056: 4 4 41
6566912: 4 4 42
6625024: 4 4 43
6683392: 4 4 43
6742016: 4 4 41
6800896: 4 4 40
6860032: 4 4 41
6919424: 4 4 42
6979072: 4 4 41
7038976: 4 4 43
7099136: 4 4 42
7159552: 4 4 42
7220224: 4 5 43
7281152: 4 4 42
7342336: 4 4 42
7403776: 4 4 46
7465472: 4 4 47
7527424: 4 4 43
7589632: 4 4 45
7652096: 4 4 44
7714816: 4 4 45
7777792: 4 4 44
7841024: 4 4 46
7904512: 4 4 44
7968256: 4 4 47
8032256: 4 4 63
8096512: 4 5 51
8161024: 4 4 48
8225792: 4 4 48
8290816: 4 4 48
8356096: 4 4 50
8421632: 5 4 50
8487424: 4 4 49
8553472: 4 4 51
8619776: 4 4 50
8686336: 4 4 52
8753152: 4 5 52
8820224: 4 4 54
8887552: 4 4 56
8955136: 4 4 52
9022976: 4 4 52
9091072: 4 4 53
9159424: 4 4 57
9228032: 4 4 53
9296896: 4 5 58
9366016: 4 4 61
9435392: 4 4 56
9505024: 4 4 56
9574912: 4 4 59
9645056: 4 4 62
9715456: 4 4 59
9786112: 4 4 60
9857024: 4 4 60
9928192: 4 4 66
9999616: 4 4 59
10071296: 4 4 62
10143232: 4 4 59
10215424: 4 4 64
10287872: 4 4 67
10360576: 4 4 65
10433536: 4 4 65
10506752: 4 4 70
10580224: 4 4 65
10653952: 4 4 66
10727936: 4 4 66
10802176: 4 4 71
10876672: 4 4 67
10951424: 4 4 68
11026432: 4 4 68
11101696: 4 4 70
11177216: 4 4 72
11252992: 4 4 70
11329024: 4 4 69
11405312: 4 4 67
11481856: 4 4 72
11558656: 4 4 72
11635712: 4 4 73
11713024: 4 4 76
11790592: 4 4 76
11868416: 4 4 77
11946496: 4 4 73
12024832: 4 4 76
12103424: 4 4 86
12182272: 4 4 73
12261376: 4 4 76
12340736: 4 4 78
12420352: 4 4 81
12500224: 4 4 81
12580352: 4 4 82
12660736: 4 4 80
12741376: 4 4 84
12822272: 4 4 84
12903424: 4 4 79
12984832: 4 4 81
13066496: 4 4 91
13148416: 4 4 82
13230592: 4 4 90
13313024: 4 4 99
13395712: 4 4 92
13478656: 4 4 87
13561856: 4 4 88
13645312: 4 4 92
13729024: 4 4 91
13812992: 4 4 87
13897216: 4 4 87
13981696: 4 4 90
14066432: 4 4 95
14151424: 4 4 93
14236672: 4 4 92
14322176: 4 4 97
14407936: 4 4 94
14493952: 4 4 94
14580224: 4 4 99
14666752: 4 4 95
14753536: 4 4 96
14840576: 4 4 95
14927872: 4 4 95
15015424: 4 4 96
15103232: 4 4 102
15191296: 4 4 103
15279616: 4 4 98
15368192: 4 4 103
15457024: 4 4 106
15546112: 4 4 101
15635456: 4 4 100
15725056: 4 4 103
15814912: 4 4 108
15905024: 4 4 103
15995392: 4 4 112
16086016: 4 4 108
16176896: 4 4 111
16268032: 4 4 104
16359424: 4 4 107
16451072: 4 4 119
16542976: 4 4 108
16635136: 4 4 107
16727552: 4 4 109
16820224: 4 4 109
16913152: 4 4 112
17006336: 4 4 114
17099776: 4 4 115
17193472: 4 4 122
17287424: 4 4 117
17381632: 5 4 119
17476096: 4 4 117
17570816: 4 4 117
17665792: 4 4 114
17761024: 4 4 117
17856512: 4 4 122
17952256: 4 4 114
18048256: 4 4 136
18144512: 6 5 131
18241024: 5 5 128
18337792: 5 5 125
18434816: 4 4 123
18532096: 5 4 121
18629632: 4 4 119
18727424: 4 4 122
18825472: 4 4 122
18923776: 4 4 122
19022336: 4 4 123
19121152: 4 4 121
19220224: 4 4 120
19319552: 4 4 125
19419136: 4 4 125
19518976: 4 4 133
19619072: 4 4 127
19719424: 4 4 134
19820032: 4 4 133
19920896: 4 4 130
20022016: 4 4 135
20123392: 4 4 130
20225024: 4 4 128
20326912: 4 4 131
20429056: 4 4 130
20531456: 4 4 132
20634112: 4 4 137
20737024: 4 4 137
20840192: 4 4 133
20943616: 4 4 131
21047296: 4 4 140
21151232: 4 4 133
21255424: 4 4 136
21359872: 4 4 138
21464576: 4 4 136
21569536: 4 4 136
21674752: 4 4 138
21780224: 4 4 137
21885952: 4 4 138
21991936: 4 4 138
22098176: 4 4 138
22204672: 4 4 148
22311424: 4 4 140
22418432: 4 4 140
22525696: 4 4 132
22633216: 4 4 138
"""# Парсим данные
x = []  # размеры массивов
y1 = []  # первые измерения
y2 = []  # вторые измерения
y3 = []  # третьи измерения

for line in data.strip().splitlines():
    parts = line.split(':')
    size = int(parts[0].strip())
    cycles = list(map(int, parts[1].strip().split()))

    x.append(size)
    y1.append(cycles[0])
    y2.append(cycles[1])
    y3.append(cycles[2])

# Строим график
plt.figure(figsize=(12, 8))
plt.plot(x, y1, marker='o', linestyle='-', color='red', linewidth=2, markersize=4, label='direct')
plt.plot(x, y2, marker='s', linestyle='-', color='blue', linewidth=2, markersize=4, label='reverse')
plt.plot(x, y3, marker='^', linestyle='-', color='green', linewidth=2, markersize=4, label='random')

# Настройки
plt.title('Количество тактов на обработку элемента от размера массива', fontsize=14)
plt.xlabel('Размер массива (байты)', fontsize=12)
plt.ylabel('Тактов на обработку элемента', fontsize=12)
plt.grid(True, linestyle='--', linewidth=0.5)
plt.legend()
plt.xscale('log')

# Устанавливаем метки оси X в байтах до 16М
plt.xticks([256, 512, 1024, 2048, 4096, 8192, 16384, 32768, 65536, 131072, 262144, 524288, 1048576, 2097152, 4194304, 8388608, 16777216],
           ['256', '512', '1K', '2K', '4K', '8K', '16K', '32K', '64K', '128K', '256K', '512K', '1M', '2M', '4M', '8M', '16M'])

# Устанавливаем пределы оси X до 16М
plt.xlim(100, 20000000)

# Показываем график
plt.tight_layout()
plt.show()
