import matplotlib.pyplot as plt

# Данные: (размер массива: такты1 такты2 такты3)
data = """256: 18 12 22
512: 15 12 12
1024: 14 12 14
1792: 13 12 13
2816: 13 12 13
4096: 12 12 11
5632: 11 11 11
7424: 11 11 11
9472: 11 12 11
11776: 11 11 12
14336: 12 12 15
17152: 12 12 18
20224: 14 13 22
23552: 15 14 28
27136: 18 17 39
30976: 22 20 43
35072: 21 18 40
39424: 18 16 29
44032: 13 12 26
48896: 12 12 27
54016: 13 12 32
59392: 15 16 45
65024: 19 19 35
70912: 12 11 31
77056: 13 15 44
83456: 17 15 29
90112: 12 13 32
97024: 12 11 27
104192: 10 9 23
111616: 8 8 19
119296: 6 6 18
127232: 6 6 19
135424: 6 6 19
143872: 6 6 20
152576: 6 6 20
161536: 6 6 22
170752: 6 6 23
180224: 6 6 23
189952: 6 6 23
199936: 6 6 25
210176: 6 6 24
220672: 6 6 25
231424: 6 6 26
242432: 6 7 27
253696: 6 6 28
265216: 6 6 32
276992: 6 6 30
289024: 6 6 32
301312: 6 6 31
313856: 6 6 32
326656: 6 6 33
339712: 6 6 34
353024: 6 6 34
366592: 6 6 35
380416: 6 6 35
394496: 6 6 37
408832: 6 6 41
423424: 6 6 42
438272: 6 6 42
453376: 6 6 41
468736: 6 6 44
484352: 6 6 48
500224: 6 6 45
516352: 6 6 50
532736: 6 6 51
549376: 6 6 48
566272: 6 6 49
583424: 6 6 49
600832: 6 6 50
618496: 7 6 50
636416: 6 7 51
654592: 6 6 52
673024: 6 6 53
691712: 6 6 53
710656: 6 6 54
729856: 6 7 55
749312: 7 7 56
769024: 6 6 56
788992: 7 7 56
809216: 7 7 57
829696: 7 6 57
850432: 7 6 58
871424: 7 6 63
892672: 6 7 59
914176: 7 6 59
935936: 7 7 60
957952: 7 6 60
980224: 7 6 60
1002752: 6 6 64
1025536: 7 6 61
1048576: 7 6 62
1071872: 6 7 62
1095424: 7 6 67
1119232: 6 6 63
1143296: 7 6 63
1167616: 7 6 64
1192192: 6 6 64
1217024: 6 6 64
1242112: 7 6 64
1267456: 7 6 65
1293056: 6 6 73
1318912: 6 6 65
1345024: 7 6 67
1371392: 6 6 66
1398016: 7 6 66
1424896: 7 7 67
1452032: 6 6 67
1479424: 7 7 68
1507072: 6 6 68
1534976: 6 6 69
1563136: 6 6 68
1591552: 7 6 69
1620224: 6 6 69
1649152: 6 6 70
1678336: 6 6 75
1707776: 6 6 74
1737472: 6 6 72
1767424: 6 6 73
1797632: 6 6 73
1828096: 6 6 74
1858816: 6 6 76
1889792: 6 6 75
1921024: 6 6 90
1952512: 6 6 76
1984256: 6 6 76
2016256: 6 6 76
2048512: 6 6 87
2081024: 6 6 77
2113792: 6 6 79
2146816: 6 6 79
2180096: 6 6 86
2213632: 6 6 81
2247424: 6 6 81
2281472: 6 6 83
2315776: 6 6 84
2350336: 6 6 87
2385152: 6 6 96
2420224: 6 6 85
2455552: 6 6 86
2491136: 6 6 87
2526976: 6 6 92
2563072: 6 6 95
2599424: 6 6 99
2636032: 6 6 94
2672896: 6 6 93
2710016: 6 6 97
2747392: 6 6 100
2785024: 6 6 101
2822912: 6 6 115
2861056: 6 6 102
2899456: 6 6 110
2938112: 6 6 106
2977024: 6 6 108
3016192: 6 6 121
3055616: 6 6 114
3095296: 6 6 110
3135232: 6 6 114
3175424: 6 6 114
3215872: 6 6 117
3256576: 6 6 122
3297536: 6 6 123
3338752: 6 6 127
3380224: 6 6 125
3421952: 6 6 126
3463936: 6 6 132
3506176: 6 6 129
3548672: 6 6 128
3591424: 6 6 149
3634432: 6 6 135
3677696: 6 6 148
3721216: 6 6 140
3764992: 6 6 141
3809024: 6 6 155
3853312: 6 6 145
3897856: 6 6 145
3942656: 6 6 161
3987712: 6 6 160
4033024: 6 6 152
4078592: 6 6 162
4124416: 6 6 164
4170496: 6 6 158
4216832: 6 6 163
4263424: 6 6 170
4310272: 6 6 171
4357376: 6 6 165
4404736: 6 6 164
4452352: 6 6 175
4500224: 6 6 178
4548352: 6 6 180
4596736: 6 6 174
4645376: 6 6 176
4694272: 6 6 187
4743424: 6 6 181
4792832: 6 6 190
4842496: 6 6 190
4892416: 6 6 194
4942592: 6 6 190
4993024: 6 6 195
5043712: 6 6 192
5094656: 6 6 203
5145856: 6 6 198
5197312: 6 6 195
5249024: 6 6 200
5300992: 6 6 191
5353216: 6 6 203
5405696: 6 6 206
5458432: 6 6 210
5511424: 6 6 211
5564672: 6 6 210
5618176: 6 6 208
5671936: 6 6 215
5725952: 6 6 216
5780224: 6 6 216
5834752: 6 6 214
5889536: 6 6 219
5944576: 6 6 222
5999872: 6 6 220
6055424: 6 6 220
6111232: 6 6 222
6167296: 6 6 223
6223616: 6 6 225
6280192: 6 6 225
6337024: 6 6 226
6394112: 6 6 231
6451456: 6 6 227
6509056: 6 6 237
6566912: 6 6 230
6625024: 6 6 231
6683392: 6 6 232
6742016: 6 6 233
6800896: 6 6 232
6860032: 6 6 231
6919424: 6 6 236
6979072: 6 6 235
7038976: 6 6 236
7099136: 6 6 237
7159552: 6 6 241
7220224: 6 6 241
7281152: 6 6 242
7342336: 6 6 240
7403776: 6 6 241
7465472: 6 6 241
7527424: 6 6 243
7589632: 6 6 244
7652096: 6 6 246
7714816: 6 6 248
7777792: 6 6 252
7841024: 6 6 255
7904512: 6 6 256
7968256: 6 6 259
8032256: 6 6 260
8096512: 6 6 259
8161024: 6 6 262
8225792: 6 6 262
8290816: 6 6 263
8356096: 6 6 265
8421632: 6 6 265
8487424: 6 6 266
8553472: 6 6 264
8619776: 6 6 266
8686336: 6 6 263
8753152: 6 6 266
8820224: 6 6 269
8887552: 6 6 269
8955136: 6 6 268
9022976: 6 6 271
9091072: 6 6 271
9159424: 6 6 270
9228032: 6 6 271
9296896: 6 6 272
9366016: 6 6 273
9435392: 6 6 272
9505024: 6 6 273
9574912: 6 6 275
9645056: 6 6 274
9715456: 6 6 276
9786112: 6 6 278
9857024: 6 6 274
9928192: 6 6 278
9999616: 7 7 276
10071296: 7 7 278
10143232: 6 6 278
10215424: 6 6 278
10287872: 6 6 279
10360576: 6 6 280
10433536: 6 6 280
10506752: 6 6 281
10580224: 6 6 281
10653952: 6 6 281
10727936: 6 6 282
10802176: 6 6 283
10876672: 6 6 282
10951424: 6 6 284
11026432: 6 6 284
11101696: 6 6 284
11177216: 6 6 284
11252992: 6 6 284
11329024: 6 6 289
11405312: 6 6 283
11481856: 6 6 287
11558656: 6 6 290
11635712: 6 6 287
11713024: 6 6 288
11790592: 6 6 288
11868416: 6 6 288
11946496: 7 7 289
12024832: 6 6 289
12103424: 6 6 289
12182272: 6 6 291
12261376: 6 6 290
12340736: 6 6 289
12420352: 6 6 294
12500224: 6 6 289
12580352: 7 7 293
12660736: 6 6 292
12741376: 6 6 293
12822272: 6 6 291
12903424: 6 6 295
12984832: 6 6 295
13066496: 6 6 294
13148416: 6 6 295
13230592: 6 6 295
13313024: 6 6 295
13395712: 6 6 297
13478656: 6 6 296
13561856: 6 6 295
13645312: 6 6 295
13729024: 6 6 295
13812992: 6 6 298
13897216: 6 6 299
13981696: 6 6 298
14066432: 6 6 299
14151424: 6 6 298
14236672: 6 6 297
14322176: 6 6 299
14407936: 6 6 299
14493952: 6 6 299
14580224: 6 6 300
14666752: 6 6 300
14753536: 6 6 302
14840576: 6 6 301
14927872: 6 6 301
15015424: 6 6 301
15103232: 6 6 302
15191296: 6 6 302
15279616: 6 6 303
15368192: 6 6 301
15457024: 6 6 303
15546112: 6 6 303
15635456: 6 6 305
15725056: 6 6 303
15814912: 6 6 300
15905024: 6 6 304
15995392: 6 6 305
16086016: 6 6 305
16176896: 6 6 305
16268032: 6 6 305
16359424: 6 6 306
16451072: 6 6 306
16542976: 6 6 305
16635136: 6 6 306
16727552: 6 6 306
16820224: 6 6 307
16913152: 6 6 311
17006336: 6 6 310
17099776: 6 6 309
17193472: 6 6 309
17287424: 6 6 309
17381632: 6 6 309
17476096: 6 6 311
17570816: 6 6 311
17665792: 6 6 311
17761024: 6 6 311
17856512: 6 6 312
17952256: 6 6 313
18048256: 6 6 312
18144512: 6 6 313
18241024: 6 6 314
18337792: 6 6 313
18434816: 6 6 313
18532096: 6 6 315
18629632: 6 6 315
18727424: 6 6 315
18825472: 6 6 314
18923776: 6 6 315
19022336: 6 6 314
19121152: 6 6 316
19220224: 6 6 315
19319552: 6 6 316
19419136: 6 6 317
19518976: 6 6 316
19619072: 6 6 313
19719424: 6 6 305
19820032: 6 6 293
19920896: 6 6 297
20022016: 6 6 321
20123392: 6 6 321
20225024: 6 6 317
20326912: 6 6 319
20429056: 6 6 322
20531456: 6 6 320
20634112: 6 6 323
20737024: 6 6 320
20840192: 6 6 321
20943616: 6 6 322
21047296: 6 6 318
21151232: 6 6 322
21255424: 6 6 320
21359872: 6 6 313
21464576: 6 6 315
21569536: 6 6 319
21674752: 6 6 323
21780224: 6 6 323
21885952: 6 6 319
21991936: 6 6 322
22098176: 6 6 322
22204672: 6 6 320
22311424: 6 6 322
22418432: 6 6 323
22525696: 6 6 322
22633216: 6 6 323
22740992: 6 6 324
22849024: 6 6 323
22957312: 6 6 324
23065856: 7 7 320
23174656: 6 6 319
23283712: 6 6 318
23393024: 6 6 320
23502592: 6 6 320
23612416: 6 6 320
23722496: 6 6 320
23832832: 6 6 319
23943424: 6 6 317
24054272: 6 6 319
24165376: 6 6 320
24276736: 6 6 319
24388352: 6 6 321
24500224: 6 6 321
24612352: 6 6 321
24724736: 6 6 322
24837376: 6 6 322
24950272: 6 6 321
25063424: 6 6 322
25176832: 6 6 322
25290496: 6 6 315
25404416: 6 6 323
25518592: 6 6 324
25633024: 6 6 335
25747712: 6 7 323
25862656: 6 6 323
25977856: 6 6 322
26093312: 6 6 323
26209024: 6 6 324
26324992: 6 6 322
26441216: 6 6 324
26557696: 6 6 324
26674432: 6 6 321
26791424: 6 6 324
26908672: 6 6 324
27026176: 6 6 322
27143936: 6 6 325
27261952: 6 6 325
27380224: 6 6 324
27498752: 6 6 325
27617536: 6 6 326
27736576: 6 6 322
27855872: 6 6 326
27975424: 6 6 329
28095232: 6 6 343
28215296: 7 7 328
28335616: 6 6 328
28456192: 6 6 326
28577024: 6 6 329
28698112: 6 6 331
28819456: 6 6 330
28941056: 6 6 330
29062912: 6 6 331
29185024: 6 6 328
29307392: 6 6 335
29430016: 6 6 333
29552896: 6 6 337
29676032: 6 6 335
29799424: 6 6 337
29923072: 6 6 337
30046976: 6 6 337
30171136: 6 6 329
30295552: 6 6 339
30420224: 6 6 337
30545152: 6 6 327
30670336: 6 6 328
30795776: 6 6 330
30921472: 6 6 326
31047424: 6 6 330
31173632: 6 6 331
31300096: 6 6 331
31426816: 6 6 332
31553792: 6 6 329
31681024: 6 6 330
31808512: 6 6 331
31936256: 6 6 331
32064256: 6 6 332
32192512: 6 6 333
32321024: 6 6 333
32449792: 6 6 333
32578816: 6 6 333
32708096: 6 6 333
32837632: 6 6 331
32967424: 6 6 333
33097472: 6 6 333
33227776: 6 6 333
33358336: 6 6 332
33489152: 6 6 333
33620224: 6 6 331
33751552: 6 6 331
33883136: 6 6 334
34014976: 6 6 338
34147072: 6 6 335
34279424: 6 6 334
34412032: 6 6 333
34544896: 6 6 333
34678016: 6 6 332
34811392: 6 6 334
34945024: 6 6 333
35078912: 6 6 335
35213056: 6 6 333
35347456: 6 6 352
35482112: 7 7 353
35617024: 6 6 339
35752192: 6 6 336
35887616: 6 6 337
36023296: 6 6 337
36159232: 6 6 341
36295424: 6 6 340
36431872: 6 6 341
36568576: 6 6 341
36705536: 6 6 342
36842752: 6 6 342
36980224: 6 6 342
37117952: 6 6 342
37255936: 6 6 342
37394176: 6 6 339
37532672: 6 6 343
37671424: 6 6 340
37810432: 6 6 343
37949696: 6 6 341
38089216: 6 6 342
38228992: 6 6 341
38369024: 6 6 341
38509312: 6 6 342
38649856: 6 6 344
38790656: 6 6 342
38931712: 6 6 342
39073024: 6 6 342
39214592: 6 6 340
39356416: 6 6 334
39498496: 6 6 342
39640832: 6 6 340
39783424: 7 7 343
39926272: 6 6 341
40069376: 6 6 342
40212736: 6 6 341
40356352: 6 6 339
40500224: 6 6 339
40644352: 6 6 338
40788736: 6 6 338
40933376: 6 6 339
41078272: 6 6 337
41223424: 6 6 340
41368832: 6 6 341
41514496: 6 6 338
41660416: 6 6 336
41806592: 6 6 340
41953024: 6 6 341
42099712: 6 6 348
42246656: 6 6 341
42393856: 6 6 345
42541312: 6 6 343
42689024: 6 6 345
42836992: 6 6 342
42985216: 6 6 345
43133696: 6 6 344
43282432: 6 6 344
43431424: 6 6 342
43580672: 6 6 347
43730176: 6 6 347
43879936: 6 6 347
44029952: 7 7 344
44180224: 6 6 346
44330752: 6 6 347
44481536: 6 6 339
44632576: 6 6 339
44783872: 6 6 341
44935424: 6 6 337
45087232: 6 6 338
45239296: 7 7 340
45391616: 6 6 343
45544192: 6 6 341
45697024: 7 7 339
45850112: 6 6 340
46003456: 6 6 344
46157056: 6 6 339
46310912: 6 6 340
46465024: 6 6 340
46619392: 6 6 341
46774016: 6 6 341
46928896: 6 6 341
47084032: 6 6 346
47239424: 6 6 354
47395072: 6 6 358
47550976: 6 6 358
47707136: 6 6 356
47863552: 6 6 354
48020224: 6 6 357
48177152: 6 6 349
48334336: 6 6 342
48491776: 6 6 345
48649472: 6 6 340
48807424: 6 6 342
48965632: 6 6 343
49124096: 6 6 346
49282816: 6 6 346
49441792: 6 6 347
49601024: 6 6 356
49760512: 6 6 356
49920256: 6 6 357
50080256: 6 6 356
50240512: 6 6 358
50401024: 6 6 359
50561792: 6 6 356
50722816: 6 6 357
50884096: 6 6 354
51045632: 6 6 349
51207424: 6 6 345
51369472: 6 6 348
51531776: 6 6 347
51694336: 6 6 348
51857152: 6 6 348
52020224: 7 6 363
52183552: 6 6 362
52347136: 6 6 364
52510976: 6 6 362
52675072: 6 6 363
52839424: 6 6 362
53004032: 6 6 355
53168896: 6 6 343
53334016: 6 6 346
53499392: 6 6 344
53665024: 6 6 345
53830912: 6 6 347
53997056: 6 6 349
54163456: 6 6 348
54330112: 6 6 345
54497024: 6 6 345
54664192: 6 6 351
54831616: 6 6 345
54999296: 6 6 346
55167232: 6 6 345
55335424: 6 6 347
55503872: 6 6 346
55672576: 6 6 346
55841536: 6 6 350
56010752: 6 6 346
56180224: 6 6 346
56349952: 6 6 345
56519936: 6 6 346
56690176: 6 6 347
56860672: 6 6 348
57031424: 6 6 348
57202432: 6 6 349
57373696: 6 6 347
57545216: 6 6 348
57716992: 6 6 348
57889024: 6 6 348
58061312: 6 6 349
58233856: 6 6 350
58406656: 6 6 356
58579712: 6 6 351
58753024: 6 6 350
58926592: 6 6 352
59100416: 6 6 353
59274496: 6 6 352
59448832: 6 6 343
59623424: 6 6 344
59798272: 6 6 344
59973376: 6 6 347
60148736: 6 6 345
60324352: 6 6 343
60500224: 6 6 357
60676352: 6 6 347
60852736: 6 6 350
61029376: 6 6 345
61206272: 6 6 343
61383424: 6 6 345
61560832: 6 6 343
61738496: 6 6 347
61916416: 6 6 345
62094592: 6 6 346
62273024: 6 6 352
62451712: 6 6 344
62630656: 6 6 350
62809856: 6 6 349
62989312: 6 6 345
63169024: 6 6 345
63348992: 6 6 344
63529216: 6 6 355
63709696: 6 6 346
63890432: 6 6 345
64071424: 6 6 345
64252672: 6 6 346
64434176: 6 6 350
64615936: 6 6 347
64797952: 6 6 346
64980224: 6 6 346
65162752: 6 6 353
65345536: 6 6 350
65528576: 6 6 348
65711872: 6 6 347
65895424: 6 6 347
66079232: 6 6 355
66263296: 6 6 349
66447616: 6 6 350
66632192: 6 6 347
66817024: 6 6 349
67002112: 6 6 351

"""# Парсим данные
x = []  # размеры массивов
y1 = []  # первые измерения
y2 = []  # вторые измерения
y3 = []  # третьи измерения

for line in data.strip().splitlines():
    parts = line.split(':')
    size = int(parts[0].strip())
    cycles = list(map(int, parts[1].strip().split()))

    x.append(size)
    y1.append(cycles[0])
    y2.append(cycles[1])
    y3.append(cycles[2])

# Строим график
plt.figure(figsize=(12, 8))
plt.plot(x, y1, marker='o', linestyle='-', color='red', linewidth=2, markersize=4, label='direct')
plt.plot(x, y2, marker='s', linestyle='-', color='blue', linewidth=2, markersize=4, label='reverse')
plt.plot(x, y3, marker='^', linestyle='-', color='green', linewidth=2, markersize=4, label='random')

# Настройки
plt.title('Количество тактов на обработку элемента от размера массива', fontsize=14)
plt.xlabel('Размер массива (байты)', fontsize=12)
plt.ylabel('Тактов на обработку элемента', fontsize=12)
plt.grid(True, linestyle='--', linewidth=0.5)
plt.legend()
plt.xscale('log')

# Устанавливаем метки оси X в байтах до 16М
plt.xticks([256, 512, 1024, 2048, 4096, 8192, 16384, 32768, 65536, 131072, 262144, 524288, 1048576, 2097152, 4194304, 8388608, 16777216],
           ['256', '512', '1K', '2K', '4K', '8K', '16K', '32K', '64K', '128K', '256K', '512K', '1M', '2M', '4M', '8M', '16M'])

# Устанавливаем пределы оси X до 16М
plt.xlim(100, 20000000)

# Показываем график
plt.tight_layout()
plt.show()
